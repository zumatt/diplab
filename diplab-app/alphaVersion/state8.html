<!DOCTYPE HTML><html>
<!-----------HEAD----------->
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="assets/style-experience.css">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <title>DiPLab - Alpha Version - State 8</title>
</head>
<body>
  <div class="header">
    <div>
      <div class="builder-columns div">
        <div class="builder-column column">
          <button type="button" class="a" id='btn_back'>
            <
          </button>
        </div>
        <div class="builder-column column-2">
          <div class="title"><p>DiPLab</p></div>
        </div>
      </div>
    </div>
  </div>
  <form id="abForm">
  <div class="antibiotic">
    <div class="img-column">
      <div class="antibiotic-img" data-el="antibiotic-img">
        <picture>
          <img
          loading="lazy"
          src="assets/eColi.jpeg"
          class="image"
        />
        </picture>
        <div class="builder-image-sizer image-sizer"></div>
      </div>
    </div>
    <div class="info-column">
      <bacteria-title class="antibiotic-title">
        <p>Cefuroxime</p>
      </bacteria-title>
      <bacteria-description class="antibiotic-description">
        <p>CXM30</p>
      </bacteria-description>
      <bacteria-description class="antibiotic-description-2">
        <p>Broad spectrum</p>
      </bacteria-description>
      <bacteria-description class="antibiotic-description-3">
        <p>Approved in 1977</p>
      </bacteria-description>
      <div class="checkbox">
        <input type="checkbox" name="ab1" value="cxm30" id="checkboxInput1" />
        <label for="checkboxInput1">Add</label>
      </div>
    </div>
  </div>
  <div class="antibiotic">
    <div class="img-column">
      <div class="antibiotic-img" data-el="antibiotic-img">
        <picture>
          <img
          loading="lazy"
          src="assets/eColi.jpeg"
          class="image"
        />
        </picture>
        <div class="builder-image-sizer image-sizer"></div>
      </div>
    </div>
    <div class="info-column">
      <bacteria-title class="antibiotic-title">
        <p>Tetracycline</p>
      </bacteria-title>
      <bacteria-description class="antibiotic-description">
        <p>TE30</p>
      </bacteria-description>
      <bacteria-description class="antibiotic-description-2">
        <p>Broad spectrum</p>
      </bacteria-description>
      <bacteria-description class="antibiotic-description-3">
        <p>Approved in 1978</p>
      </bacteria-description>
      <div class="checkbox">
        <input type="checkbox" name="ab2" value="te30" id="checkboxInput2" />
        <label for="checkboxInput2">Add</label>
      </div>
    </div>
  </div>
  <div class="antibiotic">
    <div class="img-column">
      <div class="antibiotic-img" data-el="antibiotic-img">
        <picture>
          <img
          loading="lazy"
          src="assets/eColi.jpeg"
          class="image"
        />
        </picture>
        <div class="builder-image-sizer image-sizer"></div>
      </div>
    </div>
    <div class="info-column">
      <bacteria-title class="antibiotic-title">
        <p>Ciprofloxacin</p>
      </bacteria-title>
      <bacteria-description class="antibiotic-description">
        <p>CIP5</p>
      </bacteria-description>
      <bacteria-description class="antibiotic-description-2">
        <p>Broad spectrum</p>
      </bacteria-description>
      <bacteria-description class="antibiotic-description-3">
        <p>Approved in 1987</p>
      </bacteria-description>
      <div class="checkbox">
        <input type="checkbox" name="ab3" value="cip5" id="checkboxInput3" />
        <label for="checkboxInput3">Add</label>
      </div>
    </div>
  </div>
  <input
          id="btn_next"
          class="button"
          value="Choose antibiotics"
          style="border: none; margin-left: auto; margin-right: auto; margin-top: 3vh;"
        ></input>
</form>
</body>
<!-----------SCRIPT----------->
<script>
  var Socket;

  document.getElementById('btn_next').addEventListener('click', button_nextFunction);
  document.getElementById('btn_back').addEventListener('click', button_backFunction);
  document.getElementById('checkboxInput1').addEventListener('click', function() {
    if (this.checked) {
      console.log("AB1 is checked..");
    } else {
      console.log("AB1 is not checked..");
    }
  });
  document.getElementById('checkboxInput2').addEventListener('click', function() {
    if (this.checked) {
      console.log("AB2 is checked..");
    } else {
      console.log("AB2 is not checked..");
    }
  });
  document.getElementById('checkboxInput3').addEventListener('click', function() {
    if (this.checked) {
      console.log("AB3 is checked..");
    } else {
      console.log("AB3 is not checked..");
    }
  });
  
  function init() {
      Socket = new WebSocket('ws://' + window.location.hostname + ':81/');
      }

  function button_nextFunction() {
      var x = document.getElementById("abForm");
      var ab1Val = x.elements[0].value;
      var ab2Val = x.elements[1].value;
      var ab3Val = x.elements[2].value;
      var msg = {
                  state: 9, 
                  ab1: ab1Val,
                  ab2: ab2Val,
                  ab3: ab3Val
                };
      var jsonString = JSON.stringify(msg);
      Socket.send(jsonString);
      console.log("Message sent: " + JSON.stringify(msg));
      if(ab1Val != "" && ab2Val != "" && ab3Val != ""){
        console.log("Going to state 9!");
        //window.location.href='state9.html';
        } else {
          alert("To continue you need to select 3 antibiotics!");
          };
      }
  
  function button_backFunction() {
      var msg = {state: 7};
      var jsonString = JSON.stringify(msg);
      Socket.send(jsonString);
      window.location.href='state7.html';
      console.log("Message sent: " + JSON.stringify(msg));
      }

  window.onload = function(event){
      init();
  }
  </script>
</html>